"use strict";(self.webpackChunkdrag_and_drop=self.webpackChunkdrag_and_drop||[]).push([[912],{4912:function(e,t,n){n.r(t);var a=n(1413),r=n(3433),s=n(7762),o=n(4165),c=n(5861),u=n(9439),l=n(2791),i=n(6525),d=n(249),f=n(6856),p=n(8596),m=n(4449),v=n(2392),h=n(4164),x=n(9434),j=n(7689),b=n(237),g=n(794),Z=n(9034),y=n(3452),k=n(7277),S=n(8208),C=n(1836),_=n(6069),w=n(9975),A=n(581),N=n(2649),R=n(1211),E=n(7970),O=n(1216),D=n(6982),P=n(4224),F=n(8348),T=n(4586),L=(n(8107),n(8749)),M=n(3309),I=n(7066),V=n(4172),z=(n(8864),n(7404)),q=n(9246),B=n(4882),U=n(2312),W=n(1590),K=n(184);function G(e){var t=(0,l.useRef)(0),n=(0,j.UO)();window.onbeforeunload=function(){return"Data will be lost if you leave the page, are you sure?"};var G=(0,l.useRef)(!1),H=(0,x.v9)((function(e){return e.datacenter.hiding})),X=l.useRef(null),Y=l.useRef(null),J=(0,C.p)(),Q=(0,F.q)(),$=Q.isOpen,ee=Q.onOpen,te=Q.onClose,ne=(0,F.q)(),ae=ne.isOpen,re=ne.onOpen,se=ne.onClose,oe=(0,F.q)(),ce=oe.isOpen,ue=oe.onOpen,le=oe.onClose,ie=(0,l.useState)(),de=(0,u.Z)(ie,2),fe=de[0],pe=de[1],me=(0,l.useState)(""),ve=(0,u.Z)(me,2),he=ve[0],xe=ve[1],je=(0,l.useState)(!1),be=(0,u.Z)(je,2),ge=be[0],Ze=be[1],ye=(0,F.q)(),ke=ye.isOpen,Se=ye.onOpen,Ce=ye.onClose,_e=(0,F.q)(),we=_e.isOpen,Ae=_e.onOpen,Ne=_e.onClose,Re=l.useRef(),Ee=(0,l.useState)(0),Oe=(0,u.Z)(Ee,2),De=Oe[0],Pe=Oe[1],Fe=(0,l.useState)(""),Te=(0,u.Z)(Fe,2),Le=Te[0],Me=Te[1],Ie=(0,l.useState)(""),Ve=(0,u.Z)(Ie,2),ze=Ve[0],qe=Ve[1],Be=(0,l.useState)(""),Ue=(0,u.Z)(Be,2),We=Ue[0],Ke=Ue[1],Ge=(0,l.useState)(""),He=(0,u.Z)(Ge,2),Xe=He[0],Ye=He[1],Je=(0,l.useState)(""),Qe=(0,u.Z)(Je,2),$e=Qe[0],et=Qe[1],tt=(0,l.useState)(!1),nt=(0,u.Z)(tt,2),at=nt[0],rt=nt[1],st=(0,x.v9)((function(e){return e.datacenter.data})),ot=(0,x.v9)((function(e){return e.datacenter.important})),ct=(0,x.v9)((function(e){return e.datacenter.resourse})),ut=(0,x.v9)((function(e){return e.datacenter.attributes})),lt=(0,x.v9)((function(e){return e.datacenter.editData})),it=(0,x.v9)((function(e){return e.datacenter.editCustomData})),dt=(0,x.v9)((function(e){return e.datacenter.customCodeResourceStatus})),ft=(0,x.v9)((function(e){return e.datacenter.customCodeData})),pt=(0,x.v9)((function(e){return e.datacenter.resourceNodes})),mt=(0,x.v9)((function(e){return e.datacenter.moduleNodes})),vt=(0,x.v9)((function(e){return e.datacenter.currentNodeActive})),ht=(0,x.v9)((function(e){return e.datacenter.selectedNode})),xt=(0,x.v9)((function(e){return e.templateDataSlice.template_name})),jt=(0,x.v9)((function(e){return e.templateDataSlice.language})),bt=(0,x.v9)((function(e){return e.templateDataSlice.region})),gt=(0,x.v9)((function(e){return e.templateDataSlice.template_desc})),Zt=(0,x.I0)(),yt=(0,l.useState)(!1),kt=(0,u.Z)(yt,2),St=kt[0],Ct=kt[1],_t=(0,l.useState)([]),wt=(0,u.Z)(_t,2),At=wt[0],Nt=wt[1],Rt=(0,l.useState)([]),Et=(0,u.Z)(Rt,2),Ot=Et[0],Dt=Et[1],Pt=(0,l.useState)([]),Ft=(0,u.Z)(Pt,2),Tt=Ft[0],Lt=Ft[1],Mt=(0,l.useState)([]),It=(0,u.Z)(Mt,2),Vt=It[0],zt=It[1],qt=(0,l.useState)(!1),Bt=(0,u.Z)(qt,2),Ut=Bt[0],Wt=Bt[1],Kt=(0,l.useState)(!1),Gt=(0,u.Z)(Kt,2),Ht=Gt[0],Xt=Gt[1],Yt=(0,l.useState)(!1),Jt=(0,u.Z)(Yt,2),Qt=Jt[0],$t=Jt[1],en=(0,l.useState)(!1),tn=(0,u.Z)(en,2),nn=tn[0],an=tn[1],rn=(0,l.useState)(!1),sn=(0,u.Z)(rn,2),on=sn[0],cn=sn[1],un=(0,l.useState)(!1),ln=(0,u.Z)(un,2),dn=ln[0],fn=ln[1],pn=(0,l.useState)(!1),mn=(0,u.Z)(pn,2),vn=(mn[0],mn[1],(0,l.useState)(!1)),hn=(0,u.Z)(vn,2),xn=hn[0],jn=hn[1],bn=(0,l.useState)(!1),gn=(0,u.Z)(bn,2),Zn=gn[0],yn=gn[1],kn=(0,l.useState)(!1),Sn=(0,u.Z)(kn,2),Cn=Sn[0],_n=Sn[1],wn=(0,l.useState)(!1),An=(0,u.Z)(wn,2),Nn=An[0],Rn=An[1],En=(0,l.useState)(!1),On=(0,u.Z)(En,2),Dn=On[0],Pn=On[1],Fn=(0,l.useState)(!1),Tn=(0,u.Z)(Fn,2),Ln=Tn[0],Mn=Tn[1],In=(0,l.useState)(!1),Vn=(0,u.Z)(In,2),zn=Vn[0],qn=Vn[1],Bn=(0,l.useState)(!1),Un=(0,u.Z)(Bn,2),Wn=Un[0],Kn=Un[1],Gn=(0,l.useState)(!1),Hn=(0,u.Z)(Gn,2),Xn=Hn[0],Yn=Hn[1],Jn=(0,l.useState)(!1),Qn=(0,u.Z)(Jn,2),$n=Qn[0],ea=Qn[1],ta=(0,l.useState)(!1),na=(0,u.Z)(ta,2),aa=na[0],ra=na[1],sa=(0,l.useState)(!1),oa=(0,u.Z)(sa,2),ca=(oa[0],oa[1],(0,l.useState)(!1)),ua=(0,u.Z)(ca,2),la=ua[0],ia=ua[1],da=((0,l.useRef)(),(0,l.useRef)(),(0,l.useRef)()),fa=(0,l.useRef)(),pa=(0,l.useRef)(),ma=(0,l.useRef)(),va=(0,l.useRef)(),ha=(0,l.useRef)(),xa=(0,l.useRef)(),ja=(0,l.useRef)(),ba=(0,l.useState)(),ga=(0,u.Z)(ba,2),Za=ga[0],ya=ga[1],ka=(0,l.useState)(),Sa=(0,u.Z)(ka,2),Ca=(Sa[0],Sa[1]),_a=(0,F.q)(),wa=_a.isOpen,Aa=_a.onOpen,Na=_a.onClose,Ra=(0,l.useState)(""),Ea=(0,u.Z)(Ra,2),Oa=(Ea[0],Ea[1],(0,l.useState)("")),Da=(0,u.Z)(Oa,2),Pa=Da[0],Fa=Da[1],Ta=(0,l.useState)(),La=(0,u.Z)(Ta,2),Ma=La[0],Ia=La[1],Va=(0,l.useState)([]),za=(0,u.Z)(Va,2),qa=za[0],Ba=za[1],Ua=(0,l.useRef)([]),Wa=(0,l.useState)(""),Ka=(0,u.Z)(Wa,2),Ga=Ka[0],Ha=Ka[1],Xa=(0,l.useState)([]),Ya=(0,u.Z)(Xa,2),Ja=Ya[0],Qa=Ya[1],$a=(0,l.useState)(!1),er=(0,u.Z)($a,2),tr=er[0],nr=er[1],ar=(0,l.useState)(!0),rr=(0,u.Z)(ar,2),sr=(rr[0],rr[1],(0,l.useState)(!1)),or=(0,u.Z)(sr,2),cr=or[0],ur=or[1],lr=(0,l.useState)(""),ir=(0,u.Z)(lr,2),dr=(ir[0],ir[1]),fr=(0,l.useState)([]),pr=(0,u.Z)(fr,2),mr=pr[0],vr=pr[1],hr=(0,j.TH)().state.project,xr=(0,U.Z)(),jr=xr.reactFlowWrapper,br=xr.nodes,gr=xr.setNodes,Zr=xr.edges,yr=xr.setEdges,kr=(xr.reactFlowInstance,xr.setReactFlowInstance),Sr=(xr.nodeData,xr.setNodeData,xr.isDeleteOpen),Cr=xr.setIsOpen,_r=xr.position,wr=(xr.setPosition,xr.nodeDisplay),Ar=xr.setNodeDisplay,Nr=(xr.currNodeSelected,xr.setCurrNodeSelected),Rr=xr.onConnect,Er=xr.handleMouseEnter,Or=xr.deleteNode,Dr=xr.onDragOver,Pr=xr.onNodeClick,Fr=xr.onContextMenu,Tr=xr.onEdgeUpdate,Lr=(xr.addNode,xr.onNodesChange),Mr=xr.onEdgesChange,Ir=xr.onDrop,Vr=xr.onNodeDrag;function zr(){return(zr=(0,c.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zt(b.Nw.addToModuleNodes(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qr=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var t,n,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.Z.get("/listModules");case 2:t=e.sent,n=t.data,a=n.map((function(e){return{id:e.module_name,value:e.module_name}})),vr(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Br(e,t,n){if(n){for(var a in H)if(H[a].object_name==t)for(var r in H[a].Arguments)if("boolean"!=typeof H[a].Arguments[r])for(var s in H[a].Arguments[r])if(s==e)return 1==H[a].Arguments[r][s]}else for(var o in H)if(H[o].object_name==t)for(var c in H[o].Arguments)if("boolean"==typeof H[o].Arguments[c]&&c==e)return 1==H[o].Arguments[e]}function Ur(){return(Ur=(0,c.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yop1tosnw2.execute-http://localhost:5000.us-east-1.amazonaws.com/default/terraform_template",{method:"POST",body:JSON.stringify({id:"validate",AccessToken:ma.current.value,repo:va.current.value,Message:ha.current.value,branch:xa.current.value,filename:xt,edit:"yes",provider:Le.toLowerCase()})});case 2:200==(t=e.sent).status?(t.data,ra(!0)):(void 0==(n=t.data).message?xe(n):xe(n.message),Ze(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wr=function(){var e,t=[],n=(0,s.Z)(dt);try{for(n.s();!(e=n.n()).done;){var a,r=e.value,o=!1,c=(0,s.Z)(st);try{for(c.s();!(a=c.n()).done;){a.value.object_name===r.object_name&&(o=!0)}}catch(l){c.e(l)}finally{c.f()}o||t.push(r.object_name)}}catch(l){n.e(l)}finally{n.f()}var u=t.map((function(e){var t=Gr(e);return{resource:t.resource,object_name:e,custom_code:t.custom_code}}));return u},Kr=function(e){var t,n=(0,s.Z)(dt);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.object_name===e)return a.status}}catch(r){n.e(r)}finally{n.f()}},Gr=function(e){var t,n=(0,s.Z)(it);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.object_name===e)return a}}catch(r){n.e(r)}finally{n.f()}},Hr=function(e){var t,n=(0,s.Z)(ft);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.object_name===e)return a}}catch(r){n.e(r)}finally{n.f()}};function Xr(e){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,c.Z)((0,o.Z)().mark((function e(t){var n,c,u,l,i,d,f,p,m,v,h,x,j,g,Z,y,k,S,C,_,w;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,c=[],u=Wr(),l=(0,r.Z)(u),i=mt.map((function(e){return e.id})),console.log(rs()),0!=rs().length?(pe(!0),d=rs(),Ba(d)):(pe(!1),Ba({})),console.log("Body New ",st,ot),f=0;case 9:if(!(f<st.length)){e.next=38;break}if(!Kr(st[f].object_name)){e.next=12;break}return e.abrupt("continue",35);case 12:e.t0=(0,o.Z)().keys(ot[f].Arguments);case 13:if((e.t1=e.t0()).done){e.next=35;break}if(p=e.t1.value,""!=ot[f].Arguments[p]){e.next=21;break}if(""!=st[f].Arguments[p].value){e.next=19;break}return n=1,e.abrupt("break",35);case 19:e.next=33;break;case 21:e.t2=(0,o.Z)().keys(ot[f].Arguments[p]);case 22:if((e.t3=e.t2()).done){e.next=33;break}if(m=e.t3.value,void 0==st[f].Arguments[p][m].value){e.next=30;break}if(""!=st[f].Arguments[p][m].value){e.next=28;break}return n=1,e.abrupt("break",33);case 28:e.next=31;break;case 30:console.log("Undefined",st[f].Arguments[p][m].value);case 31:e.next=22;break;case 33:e.next=13;break;case 35:f++,e.next=9;break;case 38:if(0!=n){e.next=71;break}rs(),console.log("body",st),v=(0,s.Z)(st),e.prev=42,x=(0,o.Z)().mark((function e(){var t,n,a,r,u,i,d,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,!Kr(t.object_name)){e.next=6;break}return n=Hr(t.object_name),a={resource:n.resource,object_name:t.object_name,custom_code:n.custom_code},l.push(a),e.abrupt("return","continue");case 6:if(c.push({module:t.module,resource:t.resource,object_name:t.object_name,Resource_Type:t.Resource_type,Arguments:{},Attributes:void 0!=ut[t.object_name]?ut[t.object_name]:[]}),0===Object.keys(t.Arguments).length&&lt[t.object_name]){console.log("Found empty args"),r=(0,s.Z)(c);try{for(r.s();!(u=r.n()).done;)(i=u.value).object_name===t.object_name&&(i.Arguments=lt[t.object_name])}catch(p){r.e(p)}finally{r.f()}}d=(0,o.Z)().mark((function e(n){var a,r,s,u,l,i,d,f,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==t.Arguments[n].value){e.next=4;break}""!=t.Arguments[n].value&&(Br(n,t.object_name,!1)?(a={value:t.Arguments[n].value,is_variable:!0},c.map((function(e){return e.object_name===t.object_name&&(e.Arguments[n]=a),e}),[])):(r={value:t.Arguments[n].value,is_variable:!1},c.map((function(e){return e.object_name===t.object_name&&(e.Arguments[n]=r),e}),[]))),e.next=40;break;case 4:s=c.filter((function(e){return e.object_name===t.object_name}),{}),s=s[0],console.log("valBody_obj---\x3e",s),s.Arguments[n]={},e.t0=(0,o.Z)().keys(t.Arguments[n]);case 9:if((e.t1=e.t0()).done){e.next=40;break}if(u=e.t1.value,void 0==t.Arguments[n][u].value||""==t.Arguments[n][u].value){e.next=25;break}l=0,i=0;case 14:if(!(i<Za.length)){e.next=22;break}if(Za[i].Arguments_Name!=n){e.next=19;break}return s.Arguments=n,l=1,e.abrupt("break",22);case 19:i++,e.next=14;break;case 22:l||""!=(d=t.Arguments[n][u]).value&&(s.Arguments[n][u]=d),e.next=38;break;case 25:if(void 0!=t.Arguments[n][u].value){e.next=38;break}f={},e.t2=(0,o.Z)().keys(t.Arguments[n][u]);case 28:if((e.t3=e.t2()).done){e.next=37;break}if(void 0==(p=e.t3.value).value&&""!=t.Arguments[n][u][p].value){e.next=34;break}return e.abrupt("continue",28);case 34:f[p]=t.Arguments[n][u][p];case 35:e.next=28;break;case 37:0!=Object.keys(f).length&&(s.Arguments[n][u]=f);case 38:e.next=9;break;case 40:case"end":return e.stop()}}),e)})),e.t0=(0,o.Z)().keys(t.Arguments);case 10:if((e.t1=e.t0()).done){e.next=15;break}return f=e.t1.value,e.delegateYield(d(f),"t2",13);case 13:e.next=10;break;case 15:case"end":return e.stop()}}),e)})),v.s();case 45:if((h=v.n()).done){e.next=52;break}return e.delegateYield(x(),"t4",47);case 47:if("continue"!==e.t4){e.next=50;break}return e.abrupt("continue",50);case 50:e.next=45;break;case 52:e.next=57;break;case 54:e.prev=54,e.t5=e.catch(42),v.e(e.t5);case 57:return e.prev=57,v.f(),e.finish(57);case 60:console.log("Edit template valuebody",c),j=[],g=(0,s.Z)(br);try{for(g.s();!(Z=g.n()).done;){y=Z.value,k=(0,s.Z)(pt);try{for(k.s();!(S=k.n()).done;)C=S.value,y.id===C.id&&j.push((0,a.Z)((0,a.Z)({},C),{},{position:{x:y.position.x,y:y.position.y}}))}catch(A){k.e(A)}finally{k.f()}}}catch(A){g.e(A)}finally{g.f()}return console.log({provider:Le.toLowerCase(),template_name:t,template_desc:gt,data:mt.length>0?[]:c,language:jt.toLowerCase(),region:bt,custom:0!==l.length,custom_data:l,nodes:j,edges:Zr,project:hr,modules_save:mt.length>0,modulesList:i}),e.next=67,W.Z.post("/edittemplate",{provider:Le.toLowerCase(),template_name:t,template_desc:gt,data:mt.length>0?[]:c,language:jt,region:bt,custom:0!==l.length,custom_data:l,nodes:j,edges:Zr,project:hr,modules_save:mt.length>0,modulesList:i});case 67:200==(_=e.sent).status?(console.log("success"),_.data,Zt((0,b.BZ)(!0)),J({title:"Saved Successfully",status:"success",duration:3e3,isClosable:!0,position:"bottom-left"})):(Zt((0,b.BZ)(!1)),w=_.data,console.log(w),void 0==w?(xe(w),console.log(w)):(console.log(w.message),xe(w.message)),Ze(!0)),e.next=73;break;case 71:console.log("fail"),fn(!0);case 73:case"end":return e.stop()}}),e,null,[[42,54,57,60]])}))),Yr.apply(this,arguments)}function Jr(e){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)((0,o.Z)().mark((function e(t){var n,a,r,c,u,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ct(!0),e.next=3,W.Z.post("/template",{id:"module",provider:t.toLowerCase()});case 3:n=e.sent,a=n.data,r=[],c=(0,s.Z)(a);try{for(c.s();!(u=c.n()).done;)l=u.value,r.push({id:l,value:l})}catch(o){c.e(o)}finally{c.f()}Dt(r),Ct(!1),zt([]),qe(""),Ke("");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(){return($r=(0,c.Z)((0,o.Z)().mark((function e(t){var n,a,r,c,u,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ct(!0),e.next=3,W.Z.post("/template",{id:"resource",provider:Le.toLowerCase(),type:t,modulename:ze});case 3:n=e.sent,a=n.data,r=[],c=(0,s.Z)(a);try{for(c.s();!(u=c.n()).done;)l=u.value,r.push({id:l,value:l})}catch(o){c.e(o)}finally{c.f()}zt(r),Ct(!1),Ke("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t,n,a,r){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)((0,o.Z)().mark((function e(n,a,r,s,c){var u,l,i,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ct(!0),Zt(b.Nw.addNewResourceNode([s,s,n])),Zt((0,b.S_)(s)),e.next=5,W.Z.post("/template",{id:"arguments",provider:c.toLowerCase(),modulename:a,type:r,resourcename:n});case 5:return u=e.sent,e.next=8,W.Z.post("/template",{id:"attributes",provider:c.toLowerCase(),modulename:a,type:r,resourcename:n});case 8:l=e.sent,i=l.data,d=u.data,ya(d),Ca(i),console.log(u,"arguments_data"),d[1]=n,d[2]=s,Ct(!1),Zt(b.Nw.addingNew([a,n,s,r])),Zt(b.Nw.createHide([a,n,s])),Zt(b.Nw.addingImportantNew([a,n,s])),Zt(b.Nw.createDeleteList(s)),Zt(b.Nw.createNewTableData(s)),Zt(b.Nw.createAttrDeleteList(s)),Zt(b.Nw.addNewResourse([t.current,[t.current,d,!0,i]])),t.current=t.current+1,Me(c.toLowerCase()),qe(""),Ke(""),et(""),Dt([]),Nt([]),Lt([]),zt([]),Jr(c);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ns=function(e,t,n,a,r){for(var s in st)if(st[s].object_name==a)for(var o in st[s].Arguments)if(o==e)for(var c in st[s].Arguments[o])if(c==t)return st[s].Arguments[o][c][n].value},as=function(e,t,n){if(n){for(var a in st)if(st[a].object_name==t)for(var r in st[a].Arguments)for(var s in st[a].Arguments[r])if(s==e)return st[a].Arguments[r][s].value}else for(var o in st)if(st[o].object_name==t)for(var c in st[o].Arguments)if(c==e)return st[o].Arguments[e].value},rs=function(){var e=[];for(var t in console.log(H),H)for(var n in console.log(H,H[t]),H[t].Arguments)if("boolean"==typeof H[t].Arguments[n]){if(console.log(H,H[t]),1==H[t].Arguments[n]){var a=as(n,H[t].object_name,!1);e.push(a)}}else for(var r in H[t].Arguments[n])if("boolean"==typeof H[t].Arguments[n][r]){if(1==H[t].Arguments[n][r]){var s=as(r,H[t].object_name,!0);e.push(s)}}else for(var o in H[t].Arguments[n][r])if("boolean"==typeof H[t].Arguments[n][r][o]&&1==H[t].Arguments[n][r][o]){var c=ns(n,r,o,H[t].object_name);e.push(c)}return e};function ss(e){return os.apply(this,arguments)}function os(){return os=(0,c.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cs(),e.next=3,W.Z.post("/script",{template_name:t,variables:n});case 3:e.sent;case 4:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}var cs=function(){var e,t={},n=0,a=(0,s.Z)(Ua.current);try{for(a.s();!(e=a.n()).done;){var r=e.value;null!=r&&(t[qa[n++]]=r.value)}}catch(o){a.e(o)}finally{a.f()}return t};function us(){return(us=(0,c.Z)((0,o.Z)().mark((function e(t){var n,a,r,c,u,l,i,d,f,p,m,v,h,x,j,g,Z,y,k;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.Z.post("/gettemplate",{template_name:t});case 2:if(n=e.sent,a=n.data,console.log("edit data ",a),a[0].custom_data){console.log("Custom 1"),r=(0,s.Z)(a[1].custom_data);try{for(r.s();!(c=r.n()).done;)u=c.value,console.log(u),Zt(b.Nw.addCustomCodeForEdit([u.object_name,u.resource,u.custom_code])),Zt(b.Nw.modifyEditorStatus([u.object_name]))}catch(o){r.e(o)}finally{r.f()}}Zt((0,b.BZ)(!0)),Zt((0,b.XK)(a[0].template_name)),Zt((0,b.qK)(a[0].template_desc)),Me(a[0].provider),l=(0,s.Z)(a[0].nodes);try{for(l.s();!(i=l.n()).done;)d=i.value,console.log("node element",d),Zt(b.Nw.addEditResourceNode([d.id,d.id,d.data.label,d.data.is_displayed,d.position.x,d.position.y]))}catch(o){l.e(o)}finally{l.f()}gr(a[0].nodes),yr(a[0].edges),f=(0,s.Z)(a[0].data),e.prev=15,f.s();case 17:if((p=f.n()).done){e.next=27;break}return m=p.value,e.next=21,W.Z.post("/listtemplates",{project:hr});case 21:v=e.sent,h=v.data,x=(0,s.Z)(h);try{for(x.s();!(j=x.n()).done;)if(g=j.value,t==g.template_name){Zt((0,b.XK)(g.template_name)),Zt((0,b.qK)(g.template_desc)),es(m.resource,m.module,m.Resource_Type,m.object_name,g.provider),Zt(b.Nw.addtoEditData([m.object_name,m.Arguments,m.Attributes])),Zt(b.Nw.addToEditVariables([m.object_name,m.Variables])),Zt(b.Nw.createAttrDeleteList(m.object_name)),Z=(0,s.Z)(m.Attributes);try{for(Z.s();!(y=Z.n()).done;)k=y.value,Zt(b.Nw.addNewAttribute([m.object_name,k]))}catch(o){Z.e(o)}finally{Z.f()}Me(g.provider)}}catch(o){x.e(o)}finally{x.f()}case 25:e.next=17;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(15),f.e(e.t0);case 32:return e.prev=32,f.f(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[15,29,32,35]])})))).apply(this,arguments)}return 0==De&&Pe(De+1),(0,l.useEffect)((function(){setTimeout((function(){return rt(!1)}),3e3)}),[at]),(0,l.useEffect)((function(){setTimeout((function(){return ea(!1)}),3e3)}),[$n]),(0,l.useEffect)((function(){setTimeout((function(){return ra(!1)}),3e3)}),[aa]),(0,l.useEffect)((function(){null!==G&&void 0!==G&&G.current||(!function(e){us.apply(this,arguments)}(n.name.slice(0)),G.current=!0,Pe(2))}),[]),(0,l.useEffect)((function(){gr(pt)}),[pt]),(0,l.useEffect)((function(){gr(mt)}),[mt]),(0,l.useEffect)((function(){setTimeout((function(){return Ze(!1)}),3e3)}),[ge]),(0,K.jsxs)("div",{class:"wrapper",children:[(0,K.jsx)(i.Z,{isOpen:we,onClose:Ne}),(0,K.jsx)(d.Z,{isOpen:ce,onClose:le}),(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(w.u_,{initialFocusRef:X,finalFocusRef:Y,isOpen:ae,onClose:se,children:[(0,K.jsx)(A.Z,{}),(0,K.jsxs)(N.h,{children:[(0,K.jsx)(R.x,{children:"Enter Variable Values"}),(0,K.jsx)(E.o,{}),(0,K.jsx)(O.f,{pb:6,children:fe&&qa.map((function(e,t){return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(S.l,{children:e}),(0,K.jsx)(_.I,{type:"text",ref:function(e){return Ua.current[t]=e},placeholder:"Enter Value"})]})}))}),(0,K.jsxs)(D.m,{children:[(0,K.jsx)(P.z,{colorScheme:"blue",mr:3,onClick:function(){cs(),rt(!0),ss(Pa),Na(),se(),J({title:"Execution Successfull!",status:"success",duration:3e3,isClosable:!0,position:"bottom-left"})},children:"Execute"}),(0,K.jsx)(P.z,{onClick:function(){se()},children:"Cancel"})]})]})]})}),(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(w.u_,{initialFocusRef:X,finalFocusRef:Y,isOpen:$,onClose:te,children:[(0,K.jsx)(A.Z,{}),(0,K.jsxs)(N.h,{children:[(0,K.jsx)(R.x,{children:"Save"}),(0,K.jsx)(E.o,{}),(0,K.jsx)(O.f,{pb:6,children:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(S.l,{children:"Template Name"}),(0,K.jsx)(_.I,{type:"text",ref:ja,placeholder:"Enter template name"})]})}),(0,K.jsxs)(D.m,{children:[(0,K.jsx)(P.z,{colorScheme:"blue",mr:3,onClick:function(){Xr(ja.current.value),te()},children:"Save"}),(0,K.jsx)(P.z,{onClick:function(){te()},children:"Cancel"})]})]})]})}),(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(w.u_,{closeOnOverlayClick:!1,isOpen:wa,onClose:Na,children:[(0,K.jsx)(A.Z,{}),(0,K.jsxs)(N.h,{children:[(0,K.jsxs)(R.x,{children:[0==Ma&&"Delete Template",1==Ma&&"Execute Template"]}),(0,K.jsx)(E.o,{}),(0,K.jsxs)(O.f,{pb:6,children:[0==Ma&&"Are you sure, you want to delete the template?",1==Ma&&"Are you sure, you want to execute the template?"]}),(0,K.jsxs)(D.m,{children:[(0,K.jsxs)(P.z,{colorScheme:0==Ma?"red":1==Ma&&"blue",mr:3,onClick:function(){0==Ma?Na():fe?re():(rt(!0),ss(Pa),J({title:"Execution Successfull!",status:"success",duration:3e3,isClosable:!0,position:"bottom-left"}),Na())},children:[0==Ma&&"Delete",1==Ma&&"Execute"]}),(0,K.jsx)(P.z,{onClick:Na,children:"Cancel"})]})]})]})}),(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(q.d,{isOpen:ke,placement:"left",onClose:Ce,finalFocusRef:Re,children:[(0,K.jsx)(A.Z,{}),(0,K.jsxs)(B.s,{children:[(0,K.jsx)(E.o,{}),(0,K.jsx)(R.x,{children:"Create New Resource"}),(0,K.jsxs)(O.f,{children:[(0,K.jsxs)("div",{onClick:function(){""==xt&&Wt(!0),Xt(!1)},children:[Ut&&(0,K.jsx)("p",{id:"p1",children:"Please Enter Template Name"}),(0,K.jsx)(g.ZP,{placeholder:"Select Provider",value:Le,setValue:Me,label:"Provider *",className:"datalist",onSelect:function(e){var t;""==Le&&(Jr(e.value.toLowerCase()),Me(e.value.toLowerCase()),t=e.value.toLowerCase(),console.log(t,"value"),nr("aws"==t))},onChange:function(){0!=ct.length&&Me(Le)},items:At})]}),(0,K.jsxs)(v.NI,{display:"flex",alignItems:"center",children:[(0,K.jsx)(S.l,{htmlFor:"custom-modules",mb:"0",children:"Use Custom Modules?"}),(0,K.jsx)(p.r,{onChange:function(e){e.target.checked?qr():(Zt(b.Nw.clearState()),gr([]),yr([])),ur(!cr)},id:"custom-modules"})]}),cr&&(0,K.jsx)(V.Z,{options:mr,placeholder:"Select Custom Module",onSelect:function(e){dr(e.toLowerCase()),function(e){zr.apply(this,arguments)}(e)}}),(0,K.jsxs)("div",{className:"hide-divs",children:[xn&&(0,K.jsx)("p",{id:"p1",children:"Don't Use Special Characters"}),(0,K.jsx)("label",{htmlFor:"project",children:"Project"}),(0,K.jsx)("input",{type:"text",placeholder:"Project Name",name:"project",onChange:function(){var e,t=da.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}jn(0!=n)},ref:da})]}),(0,K.jsxs)("div",{className:"hide-divs",children:[Zn&&(0,K.jsx)("p",{id:"p1",children:"Don't Use Special Characters"}),(0,K.jsx)("label",{htmlFor:"role",children:"Role Name"}),(0,K.jsx)("input",{type:"text",placeholder:"Eg.Manager",name:"role",onChange:function(){var e,t=fa.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}yn(0!=n)},ref:fa})]}),(0,K.jsxs)("div",{onClick:function(){""==Le&&Xt(!0),$t(!1)},children:[Ht&&(0,K.jsx)("p",{id:"p1",children:"Please Select Provider"}),(0,K.jsx)(g.ZP,{placeholder:"Select Module",value:ze,setValue:qe,label:"Module *",className:"datalist",onSelect:function(e){qe(e.value),Lt([{id:"Resource",value:"Resource"},{id:"Data Source",value:"Data Source"}])},items:Ot})]}),(0,K.jsxs)("div",{onClick:function(){""==ze&&$t(!0),cn(!1)},children:[Qt&&(0,K.jsx)("p",{id:"p1",children:"Please Select Module"}),(0,K.jsx)(g.ZP,{placeholder:"Select Type",value:$e,setValue:et,label:"Type *",className:"datalist",onSelect:function(e){et(e.value),function(e){$r.apply(this,arguments)}(e.value),function(){for(var e=[],t=0,n=["us-east-2","us-east-1","us-west-1","us-west-2","af-south-1","ap-east-1","ap-southeast-3","ap-south-1","ap-northeast-3","ap-northeast-2","ap-southeast-1","ap-southeast-2","ap-northeast-1","ca-central-1","eu-central-1","eu-west-1","eu-west-2","eu-south-1","eu-west-3","eu-north-1","me-south-1","sa-east-1","us-gov-east-1","us-gov-west-1"];t<n.length;t++){var a=n[t];e.push({id:a,value:a})}Qa(e)}()},items:Tt})]}),(0,K.jsxs)("div",{onClick:function(){""==xt&&an(!0)},children:[Cn&&(0,K.jsx)("p",{id:"p1",children:"Don't Use Special Characters"}),nn&&(0,K.jsx)("p",{id:"p1",children:"Please Enter Template Name"}),""==pa&&(0,K.jsx)("p",{id:"p1",children:"Object Name Null, Please fill it"}),zn&&(0,K.jsx)("p",{id:"p1",children:"Object Name Already Exists, Please Try Another"}),(0,K.jsx)("label",{htmlFor:"objectName",children:"Service Name * "}),(0,K.jsx)("input",{type:"text",placeholder:"Object Name",name:"objectName",ref:pa,onChange:function(){""==xt?pa.current.value="":function(){var e,t=pa.current.value,n=0,a=0,r=(0,s.Z)(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(o)){n=1;break}}}catch(l){r.e(l)}finally{r.f()}var c,u=(0,s.Z)(st);try{for(u.s();!(c=u.n()).done;)if(c.value.object_name==t){a=1;break}}catch(l){u.e(l)}finally{u.f()}qn(1==a),""==pa.current.value&&Nt([]),0!=n?_n(!0):(_n(!1),Ye(pa.current.value),""!=pa.current.value&&Nt([{id:"AWS",value:"AWS"},{id:"GCP",value:"GCP"},{id:"AZURE",value:"Azure"},{id:"SNOWFLAKE",value:"Snowflake"}]))}()}})]}),(0,K.jsxs)("div",{onClick:function(){""==$e&&cn(!0)},children:[on&&(0,K.jsx)("p",{children:"Please Select Type"}),tr&&(0,K.jsx)(g.ZP,{placeholder:"Select Region1",value:Ga,label:"Region *",setValue:Ha,className:"datalist",onSelect:function(e){Zt((0,b.IS)(e.value))},items:Ja}),(0,K.jsx)(g.ZP,{placeholder:"Select Resourse",value:We,setValue:Ke,label:"Resourse *",className:"datalist",id:"resourceList",onSelect:function(e){Ke(e.value)},items:Vt})]})]}),(0,K.jsxs)(D.m,{children:[(0,K.jsx)(P.z,{variant:"outline",mr:3,onClick:Ce,children:"Cancel"}),(0,K.jsx)(P.z,{colorScheme:"blue",onClick:function(){es(We,ze,$e,Xe,Le)},children:"Add"})]})]})]})}),(0,K.jsxs)("div",{id:"div3",children:[St&&(0,K.jsx)("div",{class:"loader"}),$n&&(0,K.jsxs)(y.b,{status:"success",children:[(0,K.jsx)(k.z,{}),"Saved Successfully"]}),dn&&(0,K.jsxs)(y.b,{status:"error",children:[(0,K.jsx)(k.z,{}),"Please fill all required fields!"]}),St&&(0,K.jsx)("div",{class:"loader"}),(0,K.jsxs)("div",{className:"options-panel-element",style:{width:"max-content",display:"flex",flexDirection:"row",fontSize:"18px",margin:"0px 20px",position:"absolute",background:"white !important",zIndex:100},onClick:ue,children:[(0,K.jsx)("span",{style:{fontSize:"13px",marginRight:"3px"},children:xt}),(0,K.jsx)(f.fWs,{})]}),(0,K.jsxs)("div",{id:"div4",onClick:function(){fn(!1)},children:[wr&&(0,K.jsxs)("button",{style:{background:"#5e5ee4",color:"white",padding:"10px",borderRadius:"5px",marginTop:"50px"},onClick:function(){Ar(!1),Nr("")},children:[(0,K.jsx)("i",{class:"fa-solid fa-arrow-left"})," Workflow"]}),!wr&&(0,K.jsx)("div",{className:"dndflow",children:(0,K.jsx)(L.tV,{children:(0,K.jsx)("div",{className:"reactflow-wrapper",ref:jr,children:(0,K.jsxs)(L.x$,{nodes:br,edges:Zr,onNodesChange:Lr,onEdgesChange:Mr,onConnect:Rr,onInit:kr,onDrop:Ir,onNodeMouseEnter:Er,onDragOver:Dr,onNodeContextMenu:Fr,onNodeClick:Pr,onEdgeUpdate:Tr,onNodeDrag:Vr,fitView:!1,children:[(0,K.jsx)(z.Z,{isOpen:Sr,onMouseLeave:function(){return Cr(!1)},position:_r,actions:[{label:"delete",effect:Or},{label:"Edit Resource",effect:function(){return console.log("none")}}]}),(0,K.jsx)(M.A,{}),(0,K.jsx)(I.Z,{})]})})})}),wr&&vt.map((function(e){return(0,K.jsx)(Z.Z,{id:e[0],data:e[1],output_data:e[3]},e[1][1])})),console.log(it,ht),wr&&it.map((function(e){return ht===e.object_name?(0,K.jsx)(T.Z,{object_name:e.object_name,resource:e.resource},e.object_name):null}))]}),aa&&(0,K.jsx)("p",{children:"Checked"}),ge&&(0,K.jsx)("p",{children:he}),(0,K.jsx)(m.Z,{onClick:function(){return console.log("kk")},saveClick:function(){return Xr(xt)},saveAsClick:function(){return ee()},addResourceClick:Se,gitClick:function(){Ae()},executeClick:function(){fe?re():Aa(),Fa(xt),Ia(1)},style:{marginLeft:"40% !important"}}),Wn&&h.createPortal((0,K.jsx)("div",{id:"backdrop",onClick:function(){Kn(!1)}}),document.getElementById("root2")),Wn&&h.createPortal((0,K.jsxs)("div",{id:"confirmForm",children:[(0,K.jsx)("h4",{children:"Git Check-In"}),(0,K.jsxs)("div",{children:[Nn&&(0,K.jsx)("p",{id:"p1",children:"Please Enter Valid Access Token"}),(0,K.jsx)("label",{htmlFor:"token",children:"Access Token *"}),(0,K.jsx)("input",{type:"text",name:"token",placeholder:"Enter Access Token",ref:ma,onChange:function(){var e,t=ma.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}Rn(0!=n)}})]}),(0,K.jsxs)("div",{onClick:function(){Yn(!1)},children:[Dn&&(0,K.jsx)("p",{id:"p1",children:"Please Enter Valid Repo Name"}),(0,K.jsx)("label",{htmlFor:"refoname",children:"Repo Name *"}),(0,K.jsx)("input",{type:"text",name:"refoname",placeholder:"Enter Repo Name",ref:va,onChange:function(){var e,t=va.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}Pn(0!=n)}})]}),(0,K.jsxs)("div",{onClick:function(){Yn(!1)},children:[la&&(0,K.jsx)("p",{id:"p1",children:"Please Enter Valid Branch"}),(0,K.jsx)("label",{htmlFor:"branch",children:"Branch *"}),(0,K.jsx)("input",{type:"text",name:"branch",placeholder:"Enter Branch",ref:xa,onChange:function(){var e,t=xa.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}ia(0!=n)}})]}),(0,K.jsxs)("div",{onClick:function(){Yn(!1)},children:[Ln&&(0,K.jsx)("p",{id:"p1",children:"Please Enter Valid Message"}),(0,K.jsx)("label",{htmlFor:"message",children:"Message"}),(0,K.jsx)("input",{type:"text",name:"message",placeholder:"Enter Message",ref:ha,onChange:function(){var e,t=ha.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}Mn(0!=n)}})]}),Xn&&(0,K.jsx)("p",{id:"p1",children:"Please Fill All Required Fields(*)"}),(0,K.jsx)("button",{onClick:function(){Kn(!1)},children:"cancel"}),(0,K.jsx)("button",{onClick:function(){""!=ma.current.value&&""!=va.current.value?(Kn(!1),function(){Ur.apply(this,arguments)}()):Yn(!0)},children:"checkIn"})]}),document.getElementById("root3"))]})]})}t.default=l.memo(G)}}]);
//# sourceMappingURL=912.fe826087.chunk.js.map