"use strict";(self.webpackChunkdrag_and_drop=self.webpackChunkdrag_and_drop||[]).push([[357],{9357:function(e,t,n){n.r(t);var a=n(1413),r=n(3433),s=n(7762),o=n(4165),c=n(5861),u=n(9439),l=n(2791),i=n(6525),d=n(249),f=n(8596),p=(n(4449),n(2392)),m=n(4164),v=n(9434),h=n(7689),x=n(237),j=n(794),b=n(9034),g=n(3452),Z=n(7277),y=n(8208),k=n(1836),S=n(6069),C=n(9975),_=n(581),w=n(2649),A=n(1211),N=n(7970),E=n(1216),R=n(6982),O=n(4224),D=n(8348),P=n(4586),F=(n(8107),n(8749)),T=n(3309),L=n(7066),M=n(4172),V=(n(8864),n(7404)),I=n(9246),z=n(4882),q=n(2312),B=n(1590),U=n(184);function K(e){var t=(0,l.useRef)(0),n=(0,h.UO)();window.onbeforeunload=function(){return"Data will be lost if you leave the page, are you sure?"};var K=(0,l.useRef)(!1),W=(0,v.v9)((function(e){return e.datacenter.hiding})),G=l.useRef(null),H=l.useRef(null),X=(0,k.p)(),Y=(0,D.q)(),J=Y.isOpen,Q=(Y.onOpen,Y.onClose),$=(0,D.q)(),ee=$.isOpen,te=$.onOpen,ne=$.onClose,ae=(0,D.q)(),re=ae.isOpen,se=(ae.onOpen,ae.onClose),oe=(0,l.useState)(),ce=(0,u.Z)(oe,2),ue=ce[0],le=ce[1],ie=(0,l.useState)(""),de=(0,u.Z)(ie,2),fe=de[0],pe=de[1],me=(0,l.useState)(!1),ve=(0,u.Z)(me,2),he=ve[0],xe=ve[1],je=(0,D.q)(),be=je.isOpen,ge=(je.onOpen,je.onClose),Ze=(0,D.q)(),ye=Ze.isOpen,ke=(Ze.onOpen,Ze.onClose),Se=l.useRef(),Ce=(0,l.useState)(0),_e=(0,u.Z)(Ce,2),we=_e[0],Ae=_e[1],Ne=(0,l.useState)(""),Ee=(0,u.Z)(Ne,2),Re=Ee[0],Oe=Ee[1],De=(0,l.useState)(""),Pe=(0,u.Z)(De,2),Fe=Pe[0],Te=Pe[1],Le=(0,l.useState)(""),Me=(0,u.Z)(Le,2),Ve=Me[0],Ie=Me[1],ze=(0,l.useState)(""),qe=(0,u.Z)(ze,2),Be=qe[0],Ue=qe[1],Ke=(0,l.useState)(""),We=(0,u.Z)(Ke,2),Ge=We[0],He=We[1],Xe=(0,l.useState)(!1),Ye=(0,u.Z)(Xe,2),Je=Ye[0],Qe=Ye[1],$e=(0,v.v9)((function(e){return e.datacenter.data})),et=(0,v.v9)((function(e){return e.datacenter.important})),tt=(0,v.v9)((function(e){return e.datacenter.resourse})),nt=(0,v.v9)((function(e){return e.datacenter.attributes})),at=(0,v.v9)((function(e){return e.datacenter.editData})),rt=(0,v.v9)((function(e){return e.datacenter.editCustomData})),st=(0,v.v9)((function(e){return e.datacenter.customCodeResourceStatus})),ot=(0,v.v9)((function(e){return e.datacenter.customCodeData})),ct=(0,v.v9)((function(e){return e.datacenter.resourceNodes})),ut=(0,v.v9)((function(e){return e.datacenter.moduleNodes})),lt=(0,v.v9)((function(e){return e.datacenter.currentNodeActive})),it=(0,v.v9)((function(e){return e.datacenter.selectedNode})),dt=(0,v.v9)((function(e){return e.templateDataSlice.template_name})),ft=(0,v.v9)((function(e){return e.templateDataSlice.language})),pt=(0,v.v9)((function(e){return e.templateDataSlice.region})),mt=(0,v.v9)((function(e){return e.templateDataSlice.template_desc})),vt=(0,v.I0)(),ht=(0,l.useState)(!1),xt=(0,u.Z)(ht,2),jt=xt[0],bt=xt[1],gt=(0,l.useState)([]),Zt=(0,u.Z)(gt,2),yt=Zt[0],kt=Zt[1],St=(0,l.useState)([]),Ct=(0,u.Z)(St,2),_t=Ct[0],wt=Ct[1],At=(0,l.useState)([]),Nt=(0,u.Z)(At,2),Et=Nt[0],Rt=Nt[1],Ot=(0,l.useState)([]),Dt=(0,u.Z)(Ot,2),Pt=Dt[0],Ft=Dt[1],Tt=(0,l.useState)(!1),Lt=(0,u.Z)(Tt,2),Mt=Lt[0],Vt=Lt[1],It=(0,l.useState)(!1),zt=(0,u.Z)(It,2),qt=zt[0],Bt=zt[1],Ut=(0,l.useState)(!1),Kt=(0,u.Z)(Ut,2),Wt=Kt[0],Gt=Kt[1],Ht=(0,l.useState)(!1),Xt=(0,u.Z)(Ht,2),Yt=Xt[0],Jt=Xt[1],Qt=(0,l.useState)(!1),$t=(0,u.Z)(Qt,2),en=$t[0],tn=$t[1],nn=(0,l.useState)(!1),an=(0,u.Z)(nn,2),rn=an[0],sn=an[1],on=(0,l.useState)(!1),cn=(0,u.Z)(on,2),un=(cn[0],cn[1],(0,l.useState)(!1)),ln=(0,u.Z)(un,2),dn=ln[0],fn=ln[1],pn=(0,l.useState)(!1),mn=(0,u.Z)(pn,2),vn=mn[0],hn=mn[1],xn=(0,l.useState)(!1),jn=(0,u.Z)(xn,2),bn=jn[0],gn=jn[1],Zn=(0,l.useState)(!1),yn=(0,u.Z)(Zn,2),kn=yn[0],Sn=yn[1],Cn=(0,l.useState)(!1),_n=(0,u.Z)(Cn,2),wn=_n[0],An=_n[1],Nn=(0,l.useState)(!1),En=(0,u.Z)(Nn,2),Rn=En[0],On=En[1],Dn=(0,l.useState)(!1),Pn=(0,u.Z)(Dn,2),Fn=Pn[0],Tn=Pn[1],Ln=(0,l.useState)(!1),Mn=(0,u.Z)(Ln,2),Vn=Mn[0],In=Mn[1],zn=(0,l.useState)(!1),qn=(0,u.Z)(zn,2),Bn=qn[0],Un=qn[1],Kn=(0,l.useState)(!1),Wn=(0,u.Z)(Kn,2),Gn=Wn[0],Hn=Wn[1],Xn=(0,l.useState)(!1),Yn=(0,u.Z)(Xn,2),Jn=Yn[0],Qn=Yn[1],$n=(0,l.useState)(!1),ea=(0,u.Z)($n,2),ta=(ea[0],ea[1],(0,l.useState)(!1)),na=(0,u.Z)(ta,2),aa=na[0],ra=na[1],sa=((0,l.useRef)(),(0,l.useRef)(),(0,l.useRef)()),oa=(0,l.useRef)(),ca=(0,l.useRef)(),ua=(0,l.useRef)(),la=(0,l.useRef)(),ia=(0,l.useRef)(),da=(0,l.useRef)(),fa=(0,l.useRef)(),pa=(0,l.useState)(),ma=(0,u.Z)(pa,2),va=ma[0],ha=ma[1],xa=(0,l.useState)(),ja=(0,u.Z)(xa,2),ba=(ja[0],ja[1]),ga=(0,D.q)(),Za=ga.isOpen,ya=(ga.onOpen,ga.onClose),ka=(0,l.useState)(""),Sa=(0,u.Z)(ka,2),Ca=(Sa[0],Sa[1],(0,l.useState)("")),_a=(0,u.Z)(Ca,2),wa=_a[0],Aa=(_a[1],(0,l.useState)()),Na=(0,u.Z)(Aa,2),Ea=Na[0],Ra=(Na[1],(0,l.useState)([])),Oa=(0,u.Z)(Ra,2),Da=Oa[0],Pa=Oa[1],Fa=(0,l.useRef)([]),Ta=(0,l.useState)(""),La=(0,u.Z)(Ta,2),Ma=La[0],Va=La[1],Ia=(0,l.useState)([]),za=(0,u.Z)(Ia,2),qa=za[0],Ba=za[1],Ua=(0,l.useState)(!1),Ka=(0,u.Z)(Ua,2),Wa=Ka[0],Ga=Ka[1],Ha=(0,l.useState)(!0),Xa=(0,u.Z)(Ha,2),Ya=(Xa[0],Xa[1],(0,l.useState)(!1)),Ja=(0,u.Z)(Ya,2),Qa=Ja[0],$a=Ja[1],er=(0,l.useState)(""),tr=(0,u.Z)(er,2),nr=(tr[0],tr[1]),ar=(0,l.useState)([]),rr=(0,u.Z)(ar,2),sr=rr[0],or=rr[1],cr=(0,h.TH)().state.project,ur=(0,q.Z)(),lr=ur.reactFlowWrapper,ir=ur.nodes,dr=ur.setNodes,fr=ur.edges,pr=ur.setEdges,mr=(ur.reactFlowInstance,ur.setReactFlowInstance),vr=(ur.nodeData,ur.setNodeData,ur.isDeleteOpen),hr=ur.setIsOpen,xr=ur.position,jr=(ur.setPosition,ur.nodeDisplay),br=ur.setNodeDisplay,gr=(ur.currNodeSelected,ur.setCurrNodeSelected),Zr=ur.onConnect,yr=ur.handleMouseEnter,kr=ur.deleteNode,Sr=ur.onDragOver,Cr=ur.onNodeClick,_r=ur.onContextMenu,wr=ur.onEdgeUpdate,Ar=(ur.addNode,ur.onNodesChange),Nr=ur.onEdgesChange,Er=ur.onDrop,Rr=ur.onNodeDrag;function Or(){return(Or=(0,c.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vt(x.Nw.addToModuleNodes(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dr=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var t,n,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.Z.get("/listModules");case 2:t=e.sent,n=t.data,a=n.map((function(e){return{id:e.module_name,value:e.module_name}})),or(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Pr(e,t,n){if(n){for(var a in W)if(W[a].object_name==t)for(var r in W[a].Arguments)if("boolean"!=typeof W[a].Arguments[r])for(var s in W[a].Arguments[r])if(s==e)return 1==W[a].Arguments[r][s]}else for(var o in W)if(W[o].object_name==t)for(var c in W[o].Arguments)if("boolean"==typeof W[o].Arguments[c]&&c==e)return 1==W[o].Arguments[e]}function Fr(){return(Fr=(0,c.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yop1tosnw2.execute-http://localhost:5000.us-east-1.amazonaws.com/default/terraform_template",{method:"POST",body:JSON.stringify({id:"validate",AccessToken:ua.current.value,repo:la.current.value,Message:ia.current.value,branch:da.current.value,filename:dt,edit:"yes",provider:Re.toLowerCase()})});case 2:200==(t=e.sent).status?(t.data,Qn(!0)):(void 0==(n=t.data).message?pe(n):pe(n.message),xe(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tr=function(){var e,t=[],n=(0,s.Z)(st);try{for(n.s();!(e=n.n()).done;){var a,r=e.value,o=!1,c=(0,s.Z)($e);try{for(c.s();!(a=c.n()).done;){a.value.object_name===r.object_name&&(o=!0)}}catch(l){c.e(l)}finally{c.f()}o||t.push(r.object_name)}}catch(l){n.e(l)}finally{n.f()}var u=t.map((function(e){var t=Mr(e);return{resource:t.resource,object_name:e,custom_code:t.custom_code}}));return u},Lr=function(e){var t,n=(0,s.Z)(st);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.object_name===e)return a.status}}catch(r){n.e(r)}finally{n.f()}},Mr=function(e){var t,n=(0,s.Z)(rt);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.object_name===e)return a}}catch(r){n.e(r)}finally{n.f()}},Vr=function(e){var t,n=(0,s.Z)(ot);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.object_name===e)return a}}catch(r){n.e(r)}finally{n.f()}};function Ir(){return Ir=(0,c.Z)((0,o.Z)().mark((function e(t){var n,c,u,l,i,d,f,p,m,v,h,j,b,g,Z,y,k,S,C,_,w;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,c=[],u=Tr(),l=(0,r.Z)(u),i=ut.map((function(e){return e.id})),console.log(Hr()),0!=Hr().length?(le(!0),d=Hr(),Pa(d)):(le(!1),Pa({})),console.log("Body New ",$e,et),f=0;case 9:if(!(f<$e.length)){e.next=38;break}if(!Lr($e[f].object_name)){e.next=12;break}return e.abrupt("continue",35);case 12:e.t0=(0,o.Z)().keys(et[f].Arguments);case 13:if((e.t1=e.t0()).done){e.next=35;break}if(p=e.t1.value,""!=et[f].Arguments[p]){e.next=21;break}if(""!=$e[f].Arguments[p].value){e.next=19;break}return n=1,e.abrupt("break",35);case 19:e.next=33;break;case 21:e.t2=(0,o.Z)().keys(et[f].Arguments[p]);case 22:if((e.t3=e.t2()).done){e.next=33;break}if(m=e.t3.value,void 0==$e[f].Arguments[p][m].value){e.next=30;break}if(""!=$e[f].Arguments[p][m].value){e.next=28;break}return n=1,e.abrupt("break",33);case 28:e.next=31;break;case 30:console.log("Undefined",$e[f].Arguments[p][m].value);case 31:e.next=22;break;case 33:e.next=13;break;case 35:f++,e.next=9;break;case 38:if(0!=n){e.next=71;break}Hr(),console.log("body",$e),v=(0,s.Z)($e),e.prev=42,j=(0,o.Z)().mark((function e(){var t,n,a,r,u,i,d,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,!Lr(t.object_name)){e.next=6;break}return n=Vr(t.object_name),a={resource:n.resource,object_name:t.object_name,custom_code:n.custom_code},l.push(a),e.abrupt("return","continue");case 6:if(c.push({module:t.module,resource:t.resource,object_name:t.object_name,Resource_Type:t.Resource_type,Arguments:{},Attributes:void 0!=nt[t.object_name]?nt[t.object_name]:[]}),0===Object.keys(t.Arguments).length&&at[t.object_name]){console.log("Found empty args"),r=(0,s.Z)(c);try{for(r.s();!(u=r.n()).done;)(i=u.value).object_name===t.object_name&&(i.Arguments=at[t.object_name])}catch(p){r.e(p)}finally{r.f()}}d=(0,o.Z)().mark((function e(n){var a,r,s,u,l,i,d,f,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==t.Arguments[n].value){e.next=4;break}""!=t.Arguments[n].value&&(Pr(n,t.object_name,!1)?(a={value:t.Arguments[n].value,is_variable:!0},c.map((function(e){return e.object_name===t.object_name&&(e.Arguments[n]=a),e}),[])):(r={value:t.Arguments[n].value,is_variable:!1},c.map((function(e){return e.object_name===t.object_name&&(e.Arguments[n]=r),e}),[]))),e.next=40;break;case 4:s=c.filter((function(e){return e.object_name===t.object_name}),{}),s=s[0],console.log("valBody_obj---\x3e",s),s.Arguments[n]={},e.t0=(0,o.Z)().keys(t.Arguments[n]);case 9:if((e.t1=e.t0()).done){e.next=40;break}if(u=e.t1.value,void 0==t.Arguments[n][u].value||""==t.Arguments[n][u].value){e.next=25;break}l=0,i=0;case 14:if(!(i<va.length)){e.next=22;break}if(va[i].Arguments_Name!=n){e.next=19;break}return s.Arguments=n,l=1,e.abrupt("break",22);case 19:i++,e.next=14;break;case 22:l||""!=(d=t.Arguments[n][u]).value&&(s.Arguments[n][u]=d),e.next=38;break;case 25:if(void 0!=t.Arguments[n][u].value){e.next=38;break}f={},e.t2=(0,o.Z)().keys(t.Arguments[n][u]);case 28:if((e.t3=e.t2()).done){e.next=37;break}if(void 0==(p=e.t3.value).value&&""!=t.Arguments[n][u][p].value){e.next=34;break}return e.abrupt("continue",28);case 34:f[p]=t.Arguments[n][u][p];case 35:e.next=28;break;case 37:0!=Object.keys(f).length&&(s.Arguments[n][u]=f);case 38:e.next=9;break;case 40:case"end":return e.stop()}}),e)})),e.t0=(0,o.Z)().keys(t.Arguments);case 10:if((e.t1=e.t0()).done){e.next=15;break}return f=e.t1.value,e.delegateYield(d(f),"t2",13);case 13:e.next=10;break;case 15:case"end":return e.stop()}}),e)})),v.s();case 45:if((h=v.n()).done){e.next=52;break}return e.delegateYield(j(),"t4",47);case 47:if("continue"!==e.t4){e.next=50;break}return e.abrupt("continue",50);case 50:e.next=45;break;case 52:e.next=57;break;case 54:e.prev=54,e.t5=e.catch(42),v.e(e.t5);case 57:return e.prev=57,v.f(),e.finish(57);case 60:console.log("Edit template valuebody",c),b=[],g=(0,s.Z)(ir);try{for(g.s();!(Z=g.n()).done;){y=Z.value,k=(0,s.Z)(ct);try{for(k.s();!(S=k.n()).done;)C=S.value,y.id===C.id&&b.push((0,a.Z)((0,a.Z)({},C),{},{position:{x:y.position.x,y:y.position.y}}))}catch(A){k.e(A)}finally{k.f()}}}catch(A){g.e(A)}finally{g.f()}return console.log({provider:Re.toLowerCase(),template_name:t,template_desc:mt,data:ut.length>0?[]:c,language:ft.toLowerCase(),region:pt,custom:0!==l.length,custom_data:l,nodes:b,edges:fr,project:cr,modules_save:ut.length>0,modulesList:i}),e.next=67,B.Z.post("/viewtemplate",{provider:Re.toLowerCase(),template_name:t,template_desc:mt,data:ut.length>0?[]:c,language:ft,region:pt,custom:0!==l.length,custom_data:l,nodes:b,edges:fr,project:cr,modules_save:ut.length>0,modulesList:i});case 67:200==(_=e.sent).status?(console.log("success"),_.data,vt((0,x.BZ)(!0)),X({title:"Saved Successfully",status:"success",duration:3e3,isClosable:!0,position:"bottom-left"})):(vt((0,x.BZ)(!1)),w=_.data,console.log(w),void 0==w?(pe(w),console.log(w)):(console.log(w.message),pe(w.message)),xe(!0)),e.next=73;break;case 71:console.log("fail"),sn(!0);case 73:case"end":return e.stop()}}),e,null,[[42,54,57,60]])}))),Ir.apply(this,arguments)}function zr(e){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)((0,o.Z)().mark((function e(t){var n,a,r,c,u,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bt(!0),e.next=3,B.Z.post("/template",{id:"module",provider:t.toLowerCase()});case 3:n=e.sent,a=n.data,r=[],c=(0,s.Z)(a);try{for(c.s();!(u=c.n()).done;)l=u.value,r.push({id:l,value:l})}catch(o){c.e(o)}finally{c.f()}wt(r),bt(!1),Ft([]),Te(""),Ie("");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Br(){return(Br=(0,c.Z)((0,o.Z)().mark((function e(t){var n,a,r,c,u,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bt(!0),e.next=3,B.Z.post("/template",{id:"resource",provider:Re.toLowerCase(),type:t,modulename:Fe});case 3:n=e.sent,a=n.data,r=[],c=(0,s.Z)(a);try{for(c.s();!(u=c.n()).done;)l=u.value,r.push({id:l,value:l})}catch(o){c.e(o)}finally{c.f()}Ft(r),bt(!1),Ie("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ur(e,t,n,a,r){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)((0,o.Z)().mark((function e(n,a,r,s,c){var u,l,i,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bt(!0),vt(x.Nw.addNewResourceNode([s,s,n])),vt((0,x.S_)(s)),e.next=5,B.Z.post("/template",{id:"arguments",provider:c.toLowerCase(),modulename:a,type:r,resourcename:n});case 5:return u=e.sent,e.next=8,B.Z.post("/template",{id:"attributes",provider:c.toLowerCase(),modulename:a,type:r,resourcename:n});case 8:l=e.sent,i=l.data,d=u.data,ha(d),ba(i),d[1]=n,d[2]=s,bt(!1),vt(x.Nw.addingNew([a,n,s,r])),vt(x.Nw.createHide([a,n,s])),vt(x.Nw.addingImportantNew([a,n,s])),vt(x.Nw.createDeleteList(s)),vt(x.Nw.createNewTableData(s)),vt(x.Nw.createAttrDeleteList(s)),vt(x.Nw.addNewResourse([t.current,[t.current,d,!0,i]])),t.current=t.current+1,Oe(c.toLowerCase()),Te(""),Ie(""),He(""),wt([]),kt([]),Rt([]),Ft([]),zr(c);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wr=function(e,t,n,a,r){for(var s in $e)if($e[s].object_name==a)for(var o in $e[s].Arguments)if(o==e)for(var c in $e[s].Arguments[o])if(c==t)return $e[s].Arguments[o][c][n].value},Gr=function(e,t,n){if(n){for(var a in $e)if($e[a].object_name==t)for(var r in $e[a].Arguments)for(var s in $e[a].Arguments[r])if(s==e)return $e[a].Arguments[r][s].value}else for(var o in $e)if($e[o].object_name==t)for(var c in $e[o].Arguments)if(c==e)return $e[o].Arguments[e].value},Hr=function(){var e=[];for(var t in console.log(W),W)for(var n in console.log(W,W[t]),W[t].Arguments)if("boolean"==typeof W[t].Arguments[n]){if(console.log(W,W[t]),1==W[t].Arguments[n]){var a=Gr(n,W[t].object_name,!1);e.push(a)}}else for(var r in W[t].Arguments[n])if("boolean"==typeof W[t].Arguments[n][r]){if(1==W[t].Arguments[n][r]){var s=Gr(r,W[t].object_name,!0);e.push(s)}}else for(var o in W[t].Arguments[n][r])if("boolean"==typeof W[t].Arguments[n][r][o]&&1==W[t].Arguments[n][r][o]){var c=Wr(n,r,o,W[t].object_name);e.push(c)}return e};function Xr(e){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,c.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jr(),e.next=3,B.Z.post("/script",{template_name:t,variables:n});case 3:e.sent;case 4:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}var Jr=function(){var e,t={},n=0,a=(0,s.Z)(Fa.current);try{for(a.s();!(e=a.n()).done;){var r=e.value;null!=r&&(t[Da[n++]]=r.value)}}catch(o){a.e(o)}finally{a.f()}return t};function Qr(){return(Qr=(0,c.Z)((0,o.Z)().mark((function e(t){var n,a,r,c,u,l,i,d,f,p,m,v,h,j,b,g,Z,y,k;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.Z.post("/gettemplate",{template_name:t});case 2:if(n=e.sent,a=n.data,console.log("edit data ",a),a[0].custom_data){console.log("Custom 1"),r=(0,s.Z)(a[1].custom_data);try{for(r.s();!(c=r.n()).done;)u=c.value,console.log(u),vt(x.Nw.addCustomCodeForEdit([u.object_name,u.resource,u.custom_code])),vt(x.Nw.modifyEditorStatus([u.object_name]))}catch(o){r.e(o)}finally{r.f()}}vt((0,x.BZ)(!0)),vt((0,x.XK)(a[0].template_name)),vt((0,x.qK)(a[0].template_desc)),Oe(a[0].provider),l=(0,s.Z)(a[0].nodes);try{for(l.s();!(i=l.n()).done;)d=i.value,console.log("node element",d),vt(x.Nw.addEditResourceNode([d.id,d.id,d.data.label,d.data.is_displayed,d.position.x,d.position.y]))}catch(o){l.e(o)}finally{l.f()}dr(a[0].nodes),pr(a[0].edges),f=(0,s.Z)(a[0].data),e.prev=15,f.s();case 17:if((p=f.n()).done){e.next=27;break}return m=p.value,e.next=21,B.Z.post("/listtemplates",{project:cr});case 21:v=e.sent,h=v.data,j=(0,s.Z)(h);try{for(j.s();!(b=j.n()).done;)if(g=b.value,t==g.template_name){vt((0,x.XK)(g.template_name)),vt((0,x.qK)(g.template_desc)),Ur(m.resource,m.module,m.Resource_Type,m.object_name,g.provider),vt(x.Nw.addtoEditData([m.object_name,m.Arguments,m.Attributes])),vt(x.Nw.addToEditVariables([m.object_name,m.Variables])),vt(x.Nw.createAttrDeleteList(m.object_name)),Z=(0,s.Z)(m.Attributes);try{for(Z.s();!(y=Z.n()).done;)k=y.value,vt(x.Nw.addNewAttribute([m.object_name,k]))}catch(o){Z.e(o)}finally{Z.f()}Oe(g.provider)}}catch(o){j.e(o)}finally{j.f()}case 25:e.next=17;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(15),f.e(e.t0);case 32:return e.prev=32,f.f(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[15,29,32,35]])})))).apply(this,arguments)}return 0==we&&Ae(we+1),(0,l.useEffect)((function(){setTimeout((function(){return Qe(!1)}),3e3)}),[Je]),(0,l.useEffect)((function(){setTimeout((function(){return Hn(!1)}),3e3)}),[Gn]),(0,l.useEffect)((function(){setTimeout((function(){return Qn(!1)}),3e3)}),[Jn]),(0,l.useEffect)((function(){null!==K&&void 0!==K&&K.current||(!function(e){Qr.apply(this,arguments)}(n.name.slice(0)),K.current=!0,Ae(2))}),[]),(0,l.useEffect)((function(){dr(ct)}),[ct]),(0,l.useEffect)((function(){dr(ut)}),[ut]),(0,l.useEffect)((function(){setTimeout((function(){return xe(!1)}),3e3)}),[he]),(0,U.jsxs)("div",{class:"wrapper",children:[(0,U.jsx)(i.Z,{isOpen:ye,onClose:ke}),(0,U.jsx)(d.Z,{isOpen:re,onClose:se}),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(C.u_,{initialFocusRef:G,finalFocusRef:H,isOpen:ee,onClose:ne,children:[(0,U.jsx)(_.Z,{}),(0,U.jsxs)(w.h,{children:[(0,U.jsx)(A.x,{children:"Enter Variable Values"}),(0,U.jsx)(N.o,{}),(0,U.jsx)(E.f,{pb:6,children:ue&&Da.map((function(e,t){return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(y.l,{children:e}),(0,U.jsx)(S.I,{type:"text",ref:function(e){return Fa.current[t]=e},placeholder:"Enter Value"})]})}))}),(0,U.jsxs)(R.m,{children:[(0,U.jsx)(O.z,{colorScheme:"blue",mr:3,onClick:function(){Jr(),Qe(!0),Xr(wa),ya(),ne(),X({title:"Execution Successfull!",status:"success",duration:3e3,isClosable:!0,position:"bottom-left"})},children:"Execute"}),(0,U.jsx)(O.z,{onClick:function(){ne()},children:"Cancel"})]})]})]})}),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(C.u_,{initialFocusRef:G,finalFocusRef:H,isOpen:J,onClose:Q,children:[(0,U.jsx)(_.Z,{}),(0,U.jsxs)(w.h,{children:[(0,U.jsx)(A.x,{children:"Save"}),(0,U.jsx)(N.o,{}),(0,U.jsx)(E.f,{pb:6,children:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(y.l,{children:"Template Name"}),(0,U.jsx)(S.I,{type:"text",ref:fa,placeholder:"Enter template name"})]})}),(0,U.jsxs)(R.m,{children:[(0,U.jsx)(O.z,{colorScheme:"blue",mr:3,onClick:function(){!function(e){Ir.apply(this,arguments)}(fa.current.value),Q()},children:"Save"}),(0,U.jsx)(O.z,{onClick:function(){Q()},children:"Cancel"})]})]})]})}),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(C.u_,{closeOnOverlayClick:!1,isOpen:Za,onClose:ya,children:[(0,U.jsx)(_.Z,{}),(0,U.jsxs)(w.h,{children:[(0,U.jsxs)(A.x,{children:[0==Ea&&"Delete Template",1==Ea&&"Execute Template"]}),(0,U.jsx)(N.o,{}),(0,U.jsxs)(E.f,{pb:6,children:[0==Ea&&"Are you sure, you want to delete the template?",1==Ea&&"Are you sure, you want to execute the template?"]}),(0,U.jsxs)(R.m,{children:[(0,U.jsxs)(O.z,{colorScheme:0==Ea?"red":1==Ea&&"blue",mr:3,onClick:function(){0==Ea?ya():ue?te():(Qe(!0),Xr(wa),X({title:"Execution Successfull!",status:"success",duration:3e3,isClosable:!0,position:"bottom-left"}),ya())},children:[0==Ea&&"Delete",1==Ea&&"Execute"]}),(0,U.jsx)(O.z,{onClick:ya,children:"Cancel"})]})]})]})}),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(I.d,{isOpen:be,placement:"left",onClose:ge,finalFocusRef:Se,children:[(0,U.jsx)(_.Z,{}),(0,U.jsxs)(z.s,{children:[(0,U.jsx)(N.o,{}),(0,U.jsx)(A.x,{children:"Create New Resource"}),(0,U.jsxs)(E.f,{children:[(0,U.jsxs)("div",{onClick:function(){""==dt&&Vt(!0),Bt(!1)},children:[Mt&&(0,U.jsx)("p",{id:"p1",children:"Please Enter Template Name"}),(0,U.jsx)(j.ZP,{placeholder:"Select Provider",value:Re,setValue:Oe,label:"Provider *",className:"datalist",onSelect:function(e){var t;""==Re&&(zr(e.value.toLowerCase()),Oe(e.value.toLowerCase()),t=e.value.toLowerCase(),console.log(t,"value"),Ga("aws"==t))},onChange:function(){0!=tt.length&&Oe(Re)},items:yt})]}),(0,U.jsxs)(p.NI,{display:"flex",alignItems:"center",children:[(0,U.jsx)(y.l,{htmlFor:"custom-modules",mb:"0",children:"Use Custom Modules?"}),(0,U.jsx)(f.r,{onChange:function(e){e.target.checked?Dr():(vt(x.Nw.clearState()),dr([]),pr([])),$a(!Qa)},id:"custom-modules"})]}),Qa&&(0,U.jsx)(M.Z,{options:sr,placeholder:"Select Custom Module",onSelect:function(e){nr(e.toLowerCase()),function(e){Or.apply(this,arguments)}(e)}}),(0,U.jsxs)("div",{className:"hide-divs",children:[dn&&(0,U.jsx)("p",{id:"p1",children:"Don't Use Special Characters"}),(0,U.jsx)("label",{htmlFor:"project",children:"Project"}),(0,U.jsx)("input",{type:"text",placeholder:"Project Name",name:"project",onChange:function(){var e,t=sa.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}fn(0!=n)},ref:sa})]}),(0,U.jsxs)("div",{className:"hide-divs",children:[vn&&(0,U.jsx)("p",{id:"p1",children:"Don't Use Special Characters"}),(0,U.jsx)("label",{htmlFor:"role",children:"Role Name"}),(0,U.jsx)("input",{type:"text",placeholder:"Eg.Manager",name:"role",onChange:function(){var e,t=oa.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}hn(0!=n)},ref:oa})]}),(0,U.jsxs)("div",{onClick:function(){""==Re&&Bt(!0),Gt(!1)},children:[qt&&(0,U.jsx)("p",{id:"p1",children:"Please Select Provider"}),(0,U.jsx)(j.ZP,{placeholder:"Select Module",value:Fe,setValue:Te,label:"Module *",className:"datalist",onSelect:function(e){Te(e.value),Rt([{id:"Resource",value:"Resource"},{id:"Data Source",value:"Data Source"}])},items:_t})]}),(0,U.jsxs)("div",{onClick:function(){""==Fe&&Gt(!0),tn(!1)},children:[Wt&&(0,U.jsx)("p",{id:"p1",children:"Please Select Module"}),(0,U.jsx)(j.ZP,{placeholder:"Select Type",value:Ge,setValue:He,label:"Type *",className:"datalist",onSelect:function(e){He(e.value),function(e){Br.apply(this,arguments)}(e.value),function(){for(var e=[],t=0,n=["us-east-2","us-east-1","us-west-1","us-west-2","af-south-1","ap-east-1","ap-southeast-3","ap-south-1","ap-northeast-3","ap-northeast-2","ap-southeast-1","ap-southeast-2","ap-northeast-1","ca-central-1","eu-central-1","eu-west-1","eu-west-2","eu-south-1","eu-west-3","eu-north-1","me-south-1","sa-east-1","us-gov-east-1","us-gov-west-1"];t<n.length;t++){var a=n[t];e.push({id:a,value:a})}Ba(e)}()},items:Et})]}),(0,U.jsxs)("div",{onClick:function(){""==dt&&Jt(!0)},children:[bn&&(0,U.jsx)("p",{id:"p1",children:"Don't Use Special Characters"}),Yt&&(0,U.jsx)("p",{id:"p1",children:"Please Enter Template Name"}),""==ca&&(0,U.jsx)("p",{id:"p1",children:"Object Name Null, Please fill it"}),Fn&&(0,U.jsx)("p",{id:"p1",children:"Object Name Already Exists, Please Try Another"}),(0,U.jsx)("label",{htmlFor:"objectName",children:"Service Name * "}),(0,U.jsx)("input",{type:"text",placeholder:"Object Name",name:"objectName",ref:ca,onChange:function(){""==dt?ca.current.value="":function(){var e,t=ca.current.value,n=0,a=0,r=(0,s.Z)(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(o)){n=1;break}}}catch(l){r.e(l)}finally{r.f()}var c,u=(0,s.Z)($e);try{for(u.s();!(c=u.n()).done;)if(c.value.object_name==t){a=1;break}}catch(l){u.e(l)}finally{u.f()}Tn(1==a),""==ca.current.value&&kt([]),0!=n?gn(!0):(gn(!1),Ue(ca.current.value),""!=ca.current.value&&kt([{id:"AWS",value:"AWS"},{id:"GCP",value:"GCP"},{id:"AZURE",value:"Azure"},{id:"SNOWFLAKE",value:"Snowflake"}]))}()}})]}),(0,U.jsxs)("div",{onClick:function(){""==Ge&&tn(!0)},children:[en&&(0,U.jsx)("p",{children:"Please Select Type"}),Wa&&(0,U.jsx)(j.ZP,{placeholder:"Select Region1",value:Ma,label:"Region *",setValue:Va,className:"datalist",onSelect:function(e){vt((0,x.IS)(e.value))},items:qa}),(0,U.jsx)(j.ZP,{placeholder:"Select Resourse",value:Ve,setValue:Ie,label:"Resourse *",className:"datalist",id:"resourceList",onSelect:function(e){Ie(e.value)},items:Pt})]})]}),(0,U.jsxs)(R.m,{children:[(0,U.jsx)(O.z,{variant:"outline",mr:3,onClick:ge,children:"Cancel"}),(0,U.jsx)(O.z,{colorScheme:"blue",onClick:function(){Ur(Ve,Fe,Ge,Be,Re)},children:"Add"})]})]})]})}),(0,U.jsxs)("div",{id:"div3",children:[jt&&(0,U.jsx)("div",{class:"loader"}),Gn&&(0,U.jsxs)(g.b,{status:"success",children:[(0,U.jsx)(Z.z,{}),"Saved Successfully"]}),rn&&(0,U.jsxs)(g.b,{status:"error",children:[(0,U.jsx)(Z.z,{}),"Please fill all required fields!"]}),jt&&(0,U.jsx)("div",{class:"loader"}),(0,U.jsxs)("div",{id:"div4",onClick:function(){sn(!1)},children:[jr&&(0,U.jsxs)("button",{style:{background:"#5e5ee4",color:"white",padding:"10px",borderRadius:"5px",marginTop:"50px"},onClick:function(){br(!1),gr("")},children:[(0,U.jsx)("i",{class:"fa-solid fa-arrow-left"})," Workflow"]}),!jr&&(0,U.jsx)("div",{className:"dndflow",children:(0,U.jsx)(F.tV,{children:(0,U.jsx)("div",{className:"reactflow-wrapper",ref:lr,children:(0,U.jsxs)(F.x$,{nodes:ir,edges:fr,onNodesChange:Ar,onEdgesChange:Nr,onConnect:Zr,onInit:mr,onDrop:Er,onNodeMouseEnter:yr,onDragOver:Sr,onNodeContextMenu:_r,onNodeClick:Cr,onEdgeUpdate:wr,onNodeDrag:Rr,fitView:!1,children:[(0,U.jsx)(V.Z,{isOpen:vr,onMouseLeave:function(){return hr(!1)},position:xr,actions:[{label:"delete",effect:kr},{label:"Edit Resource",effect:function(){return console.log("none")}}]}),(0,U.jsx)(T.A,{}),(0,U.jsx)(L.Z,{})]})})})}),jr&&lt.map((function(e){return(0,U.jsx)(b.Z,{id:e[0],data:e[1],output_data:e[3]},e[1][1])})),console.log(rt,it),jr&&rt.map((function(e){return it===e.object_name?(0,U.jsx)(P.Z,{object_name:e.object_name,resource:e.resource},e.object_name):null}))]}),Jn&&(0,U.jsx)("p",{children:"Checked"}),he&&(0,U.jsx)("p",{children:fe}),Vn&&m.createPortal((0,U.jsx)("div",{id:"backdrop",onClick:function(){In(!1)}}),document.getElementById("root2")),Vn&&m.createPortal((0,U.jsxs)("div",{id:"confirmForm",children:[(0,U.jsx)("h4",{children:"Git Check-In"}),(0,U.jsxs)("div",{children:[kn&&(0,U.jsx)("p",{id:"p1",children:"Please Enter Valid Access Token"}),(0,U.jsx)("label",{htmlFor:"token",children:"Access Token *"}),(0,U.jsx)("input",{type:"text",name:"token",placeholder:"Enter Access Token",ref:ua,onChange:function(){var e,t=ua.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}Sn(0!=n)}})]}),(0,U.jsxs)("div",{onClick:function(){Un(!1)},children:[wn&&(0,U.jsx)("p",{id:"p1",children:"Please Enter Valid Repo Name"}),(0,U.jsx)("label",{htmlFor:"refoname",children:"Repo Name *"}),(0,U.jsx)("input",{type:"text",name:"refoname",placeholder:"Enter Repo Name",ref:la,onChange:function(){var e,t=la.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}An(0!=n)}})]}),(0,U.jsxs)("div",{onClick:function(){Un(!1)},children:[aa&&(0,U.jsx)("p",{id:"p1",children:"Please Enter Valid Branch"}),(0,U.jsx)("label",{htmlFor:"branch",children:"Branch *"}),(0,U.jsx)("input",{type:"text",name:"branch",placeholder:"Enter Branch",ref:da,onChange:function(){var e,t=da.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}ra(0!=n)}})]}),(0,U.jsxs)("div",{onClick:function(){Un(!1)},children:[Rn&&(0,U.jsx)("p",{id:"p1",children:"Please Enter Valid Message"}),(0,U.jsx)("label",{htmlFor:"message",children:"Message"}),(0,U.jsx)("input",{type:"text",name:"message",placeholder:"Enter Message",ref:ia,onChange:function(){var e,t=ia.current.value,n=0,a=(0,s.Z)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_,. ".includes(r)){n=1;break}}}catch(o){a.e(o)}finally{a.f()}On(0!=n)}})]}),Bn&&(0,U.jsx)("p",{id:"p1",children:"Please Fill All Required Fields(*)"}),(0,U.jsx)("button",{onClick:function(){In(!1)},children:"cancel"}),(0,U.jsx)("button",{onClick:function(){""!=ua.current.value&&""!=la.current.value?(In(!1),function(){Fr.apply(this,arguments)}()):Un(!0)},children:"checkIn"})]}),document.getElementById("root3"))]})]})}t.default=l.memo(K)}}]);
//# sourceMappingURL=357.663a21fc.chunk.js.map